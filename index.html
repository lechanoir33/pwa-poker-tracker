<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Page Principale - Mains de Poker</title>
  <style>
    body {
      background-color: #111;
      color: white;
      font-family: Arial, sans-serif;
      padding: 20px;
    }

    button {
      padding: 10px 20px;
      background-color: #333;
      color: white;
      border: none;
      font-size: 16px;
      cursor: pointer;
    }

    button:hover {
      background-color: #555;
    }

    table {
      border-collapse: collapse;
      width: 100%;
      margin-top: 20px;
    }

    th, td {
      border: 1px solid white;
      padding: 8px;
      text-align: center;
    }

    th {
      background-color: #333;
    }

    .main-title {
      font-size: 1.5em;
      font-weight: bold;
      text-align: center;
    }
  </style>
</head>
<body>
  <h1 class="main-title">Sélectionnez les Mains de Poker</h1>

  <button id="resetButton">Réinitialiser</button>

  <table id="handsTable">
    <thead>
      <tr>
        <th>Main</th>
        <th>Cocher</th>
      </tr>
    </thead>
    <tbody>
      <!-- Les mains et cases à cocher seront ajoutées ici -->
    </tbody>
  </table>

  <script>
    // Liste des mains triées par force
    const handRanking = [
      'AA', 'KK', 'AKs', 'QQ', 'JJ', 'AKo', 'AQs', 'AQo', 'AJs', 'TT', 'KQs', 'ATs', 'KJs', 'AJo', 'QJs',
      '99', 'JTs', 'KTs', 'QTs', '88', 'KQo', 'A9s', 'T9s', 'Q9s', 'KJo', 'A8s', 'A7s', 'J9s',
      'A5s', 'A6s', 'T8s', 'A4s', 'QJo', 'K9s', 'J8s', 'A3s', 'KTo', 'Q8s', 'A2s', 
      'J7s', 'Q7s', 'K8s', '98s', '97s', '87s', 'T7s', 'Q6s', 'JTo', 'K7s', 'J6s', '76s', 'QTo', 'K6s',
      'J5s', 'K5s', 'J4s', 'K4s', 'K3s', '65s', 'K2s', 'T6s', 'Q5s', 'Q4s', 'T5s', 'T4s', 'Q3s', '54s',
      'J3s', 'Q2s', 'J2s', 'T3s', 'T2s', '43s', '42s', '32s', 'A9o', 'A8o', 'A7o', 'A5o', 'A6o', 'A4o',
      'A3o', 'A2o', 'K9o', 'K8o', 'K7o', 'K6o', 'K5o', 'K4o', 'K3o', 'K2o', 'Q9o', 'Q8o', 'Q7o', 'Q6o',
      'Q5o', 'Q4o', 'Q3o', 'Q2o', 'J9o', 'J8o', 'J7o', 'J6o', 'J5o', 'J4o', 'J3o', 'J2o', 'T9o', 'T8o',
      'T7o', 'T6o', 'T5o', 'T4o', 'T3o', 'T2o', '98o', '97o', '96o', '95o', '94o', '93o', '92o', '87o',
      '86o', '85o', '84o', '83o', '82o', '76o', '75o', '74o', '73o', '72o', '65o', '64o', '63o', '62o',
      '54o', '53o', '52o', '43o', '42o', '32o', '77', '66', '55', '44', '33', '22'
    ];

    // Fonction pour sauvegarder les mains sélectionnées dans localStorage
    function saveSelectedHands(selectedHands) {
      localStorage.setItem('selectedHands', JSON.stringify(selectedHands));
    }

    // Charger les mains déjà sélectionnées depuis localStorage
    function loadSelectedHands() {
      const raw = localStorage.getItem('selectedHands');
      return raw ? JSON.parse(raw) : [];
    }

    // Récupérer le tableau des mains et ajouter les cases à cocher
    function loadHands() {
      const handsTableBody = document.querySelector('#handsTable tbody');
      const selectedHands = loadSelectedHands();

      // Supprimer les lignes existantes
      handsTableBody.innerHTML = '';

      handRanking.forEach(hand => {
        const row = document.createElement('tr');

        const handCell = document.createElement('td');
        handCell.textContent = hand;

        const checkboxCell = document.createElement('td');
        const checkbox = document.createElement('input');
        checkbox.type = 'checkbox';
        checkbox.checked = selectedHands.includes(hand);
        checkbox.addEventListener('change', () => handleHandSelection(hand, checkbox.checked));

        checkboxCell.appendChild(checkbox);
        row.appendChild(handCell);
        row.appendChild(checkboxCell);

        handsTableBody.appendChild(row);
      });
    }

    // Ajouter ou supprimer une main dans les mains sélectionnées
    function handleHandSelection(hand, isChecked) {
      let selectedHands = loadSelectedHands();

      if (isChecked) {
        if (!selectedHands.includes(hand)) {
          selectedHands.push(hand);
        }
      } else {
        selectedHands = selectedHands.filter(h => h !== hand);
      }

      saveSelectedHands(selectedHands);
    }

    // Fonction pour réinitialiser les exposants sur la page principale
    document.getElementById('resetButton').addEventListener('click', () => {
      // Réinitialiser uniquement les mains sélectionnées sur la page principale
      saveSelectedHands([]); // Effacer les mains sélectionnées

      // Recharger la page pour refléter la réinitialisation
      loadHands();
    });

    // Charger les mains à l'ouverture de la page
    loadHands();
  </script>
</body>
</html>
